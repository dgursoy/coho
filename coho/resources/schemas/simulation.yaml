simulation:
  type: dict
  required: true
  schema:

    wavefront:
      type: dict
      required: true
      schema:
        id:
          type: string
          required: true
        type:
          type: string
          required: true
          allowed: ["constant", "gaussian", "rectangular"]
        properties:
          type: dict
          required: true
          default: {}
          schema:
            physical:
              type: dict
              required: true
              schema:
                amplitude: {type: float, min: 0.0, default: 1.0, required: true}
                phase: {type: float, default: 0.0, required: true}
                energy: {type: float, min: 0.0, default: 10.0, required: true}
                sigma: {type: float, min: 0.0, default: 64, required: false}
                width: {type: float, min: 0.0, default: 256, required: false}
                height: {type: float, min: 0.0, required: false}
            grid:
              type: dict
              required: true
              schema:
                size: {type: integer, min: 1, default: 512, required: true}
                spacing: {type: float, min: 0.0, default: 0.001, required: true}
            geometry:
              type: dict
              required: true
              schema:
                position:
                  type: dict
                  required: true
                  schema:
                    x: {type: float, default: 0.0, required: true}
                    y: {type: float, default: 0.0, required: true}
                rotation: {type: float, default: 0.0, required: true}

    optic:
      type: dict
      required: false
      schema:
        id:
          type: string
          required: true
        type:
          type: string
          required: true
          allowed: ["coded_aperture", "slit_aperture", "circle_aperture", "custom_profile"]
        properties:
          type: dict
          required: true
          default: {}
          schema:
            material: {type: string, default: "Au", required: true}
            density: {type: float, min: 0.0, default: 19.3, required: true}
            thickness: {type: float, min: 0.0, default: 0.0001, required: true}
            bit_size: {type: integer, min: 1, default: 64, required: false}
            width: {type: float, min: 0.0, default: 256, required: false}
            height: {type: float, min: 0.0, default: 256, required: false}
            radius: {type: float, min: 0.0, default: 128, required: false}
            custom_profile: {type: string, default: "coho/resources/samples/cameraman.npy", required: false}
            seed: {type: integer, default: 0, required: false}
            grid:
              type: dict
              required: true
              schema:
                size: {type: integer, min: 1, default: 512, required: true}
                spacing: {type: float, min: 0.0, default: 0.001, required: true}
            geometry:
              type: dict
              required: true
              schema:
                position:
                  type: dict
                  required: true
                  schema:
                    x: {type: float, default: 0.0, required: true}
                    y: {type: float, default: 0.0, required: true}
                rotation: {type: float, default: 0.0, required: true}
            
    sample:
      type: dict
      required: false
      schema:
        id:
          type: string
          required: true
        type:
          type: string
          required: true
          allowed: ["custom_profile"]
        properties:
          type: dict
          required: true
          default: {}
          schema:
            material: {type: string, default: "C5H8O2", required: true}
            density: {type: float, min: 0.0, default: 1.18, required: true}
            thickness: {type: float, min: 0.0, default: 0.001, required: true}
            custom_profile: {type: string, default: "coho/resources/samples/lena.npy", required: false}
            grid:
              type: dict
              required: true
              schema:
                size: {type: integer, min: 1, default: 512, required: true}
                spacing: {type: float, min: 0.0, default: 0.001, required: true}
            geometry:
              type: dict
              required: true
              schema:
                position:
                  type: dict
                  required: true
                  schema:
                    x: {type: float, default: 0.0, required: true}
                    y: {type: float, default: 0.0, required: true}
                rotation: {type: float, default: 0.0, required: true}

    detector:
      type: dict
      required: true
      schema:
        id:
          type: string
          required: true
        type:
          type: string
          required: true
          allowed: ["integrating", "photon_counting"]
        properties:
          type: dict
          required: true
          default: {}
          schema:
            grid:
              type: dict
              required: true
              schema:
                size: {type: integer, min: 1, default: 512, required: true}
                spacing: {type: float, min: 0.0, default: 0.001, required: true}
            geometry:
              type: dict
              required: true
              schema:
                position:
                  type: dict
                  required: true
                  schema:
                    x: {type: float, default: 0.0, required: true}
                    y: {type: float, default: 0.0, required: true}
                rotation: {type: float, default: 0.0, required: true}